<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Theme initialization to avoid FOUC -->
    <script>
      (function () {
        const stored = localStorage.getItem("theme");
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const theme = stored || (prefersDark ? "dark" : "light");
        document.documentElement.classList.add(theme);
      })();
    </script>

    <!-- Particles JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"
      integrity="sha512-Kef5sc7gfTacR7TZKelcrRs15ipf7+t+n7Zh6mKNJbmW+/RRdCW9nwfLn4YX0s2nO6Kv5Y2ChqgIakaC6PW09A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <meta name="viewport" content="width=device-width" />
    %sveltekit.head%
  </head>

  <body
    data-sveltekit-preload-data="hover"
    class="relative text-black transition-colors duration-300 bg-white dark:text-white dark:bg-slate-950"
  >
    <!-- Main App -->
    <div style="display: contents" class="relative z-[1]">%sveltekit.body%</div>

    <!-- Particles Background -->
    <div class="absolute min-h-screen w-full top-0 left-0 z-[-1] opacity-70">
      <div class="absolute inset-0" id="particles-js"></div>
    </div>

    <script>
      (function () {
        const theme = document.documentElement.classList.contains("dark")
          ? "dark"
          : "light";
        const configPath = `assets/particles-${theme}.json`;

        particlesJS.load("particles-js", configPath, function () {
          console.log(`Particles loaded for ${theme} theme`);
        });
      })();
    </script>
  </body>
</html>
